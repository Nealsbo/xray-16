#include "common.h"
#include "iostructs\p_sky.h"

uniform samplerCube 	s_sky0;//	: register(s0);
uniform samplerCube 	s_sky1;//	: register(s1);
uniform half3 		color;

//////////////////////////////////////////////////////////////////////////////////////////
// Pixel
half4 	_main	( v2p I )//	: COLOR
{
	half3 	s0	= texCUBE(s_sky0,I.tc0).rgb;
	half3 	s1	= texCUBE(s_sky1,I.tc1).rgb;
	half3	sky	= I.factor.xyz*lerp(s0,s1,I.factor.w);

	return  half4	(sky,1);
}
